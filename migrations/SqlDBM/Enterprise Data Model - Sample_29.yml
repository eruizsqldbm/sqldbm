# *************************** SqlDBM: Snowflake **************************
# * Generated by SqlDBM: Enterprise Data Model - Sample by eric.ruiz+yew *


version: 2

models:
  - name: DIM_CUSTOMER
    description: Customer dimension table using SCD Type 2 for historical tracking
    columns:
      - name: CUSTOMER_SK
        description: Surrogate key for customer
      - name: CUSTOMER_ID
        description: Business/Natural key for customer
      - name: NAME
        description: Customer name
      - name: EMAIL
        description: Customer email address
      - name: ADDRESS
        description: Customer physical address
      - name: VALID_FROM
        description: Date when this version became effective
      - name: VALID_TO
        description: Date when this version ended (NULL if current)
      - name: IS_CURRENT
        description: Indicates if this record is the current version
      - name: LAST_UPDATED
        description: ''
      - name: UPDATED_BY
        description: ''

  - name: DIM_DATE
    description: Date dimension with common date attributes
    columns:
      - name: DATE_SK
        description: Surrogate key for date
      - name: FULL_DATE
        description: Full calendar date
      - name: DAY_OF_WEEK
        description: Day of the week (e.g., Monday)
      - name: MONTH
        description: Month number (1–12)
      - name: QUARTER
        description: Quarter of the year (1–4)
      - name: YEAR
        description: Year (4-digit)
      - name: LAST_UPDATED
        description: ''
      - name: UPDATED_BY
        description: ''

  - name: DIM_PRODUCT
    description: Product dimension with historical changes using SCD Type 2
    columns:
      - name: PRODUCT_SK
        description: Surrogate key for product
      - name: PRODUCT_ID
        description: Business/Natural key for product
      - name: PRODUCT_NAME
        description: Name of the product
      - name: CATEGORY
        description: Product category or group
      - name: PRICE
        description: Product price at the time
      - name: VALID_FROM
        description: Start date of this product version
      - name: VALID_TO
        description: End date of this product version
      - name: IS_CURRENT
        description: True if this product version is current
      - name: LAST_UPDATED
        description: ''
      - name: UPDATED_BY
        description: ''

  - name: DIM_STORE
    description: Store dimension representing retail locations
    columns:
      - name: STORE_SK
        description: Surrogate key for store
      - name: STORE_ID
        description: Business key or store number
      - name: STORE_NAME
        description: Name of the store
      - name: LOCATION
        description: Store location or region
      - name: LAST_UPDATED
        description: ''
      - name: UPDATED_BY
        description: ''

  - name: FACT_SALES
    description: Fact table storing individual sales transactions
    columns:
      - name: SALES_ID
        description: Unique identifier for each sale
      - name: CUSTOMER_SK
        description: Foreign key to dim_customer
      - name: PRODUCT_SK
        description: Foreign key to dim_product
      - name: DATE_SK
        description: Foreign key to dim_date
      - name: STORE_SK
        description: Foreign key to dim_store
      - name: QUANTITY
        description: Number of units sold
      - name: TOTAL_AMOUNT
        description: Total revenue for the sale (quantity * price)
      - name: LOAD_DTS
        description: ''
      - name: LAST_UPDATED
        description: ''
      - name: UPDATED_BY
        description: ''

