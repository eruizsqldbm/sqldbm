-- ************************** SqlDBM: Databricks *************************
-- * Generated by SqlDBM: Databricks Demo 65 by eric.ruiz+yew@sqldbm.com *

-- ************************************** CRM.SILVER_OPPORTUNITY
CREATE TABLE CRM.SILVER_OPPORTUNITY
(
 OPPORTUNITY_ID varchar(18) NOT NULL COMMENT 'Unique identifier for each opportunity, serving as the primary key.' CONSTRAINT PK_OPPORTUNITY PRIMARY KEY,
 NAME           string NOT NULL COMMENT 'The name of the opportunity, such as Q1 Enterprise Sale.',
 ACCOUNT_ID     varchar(18) COMMENT 'References the account associated with the opportunity, linking the deal to a customer.' CONSTRAINT ACCOUNTID_23 REFERENCES CRM.SILVER_ACCOUNT,
 CLOSE_DATE     date COMMENT 'The expected or actual date when the opportunity is closed.',
 STAGE          string COMMENT 'Indicates the current stage in the sales pipeline (e.g., Prospecting, Negotiation, Closed Won).',
 AMOUNT         decimal(18,2) COMMENT 'Specifies the potential revenue value of the opportunity.',
 PROBABILITY    decimal(5,2) COMMENT 'Represents the likelihood of successfully closing the opportunity, expressed as a percentage.',
 CREATED_DATE   date COMMENT 'The date when the opportunity record was created.',
 Last_Updated   timestamp NOT NULL
)
USING DELTA
 COMMENT 'Tracks potential revenue-generating deals, providing visibility into the sales pipeline and supporting revenue forecasting.'
 TBLPROPERTIES (delta.minWriterVersion = 7, delta.enableDeletionVectors = true, delta.minReaderVersion = 3, delta.checkpoint.writeStatsAsStruct = true, delta.checkpoint.writeStatsAsJson = false, delta.feature.deletionVectors = 'supported', delta.feature.invariants = 'supported');
