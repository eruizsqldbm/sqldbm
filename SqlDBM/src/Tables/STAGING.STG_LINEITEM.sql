-- ***************************** SqlDBM: Snowflake *****************************
-- * Generated by SqlDBM: dbt + SqlDBM One Project by eric.ruiz+yew@sqldbm.com *

-- ************************************** STAGING.STG_LINEITEM
CREATE TABLE STAGING.STG_LINEITEM
(
 ORDERKEY       int NOT NULL COMMENT 'Foreign key referencing the order',
 LINENUMBER     int NOT NULL COMMENT 'Line item number within an order',
 PARTKEY        int COMMENT 'Foreign key referencing the part',
 SUPPKEY        int COMMENT 'Foreign key referencing the supplier',
 QUANTITY       decimal(12,2) COMMENT 'Quantity of the item ordered',
 EXTENDEDPRICE  decimal(12,2) COMMENT 'Extended price of the item (quantity * unit price)',
 DISCOUNT       decimal(12,2) COMMENT 'Discount applied to the item',
 TAX            decimal(12,2) COMMENT 'Tax applied to the item',
 RETURNFLAG     string COMMENT 'Return status of the item',
 LINESTATUS     string COMMENT 'Status of the line item',
 SHIPDATE       date COMMENT 'Date the item was shipped',
 COMMITDATE     date COMMENT 'Date the item was committed for shipping',
 RECEIPTDATE    date COMMENT 'Date the item was received',
 SHIPINSTRUCT   string COMMENT 'Shipping instructions for the item',
 SHIPMODE       string COMMENT 'Shipping mode for the item',
 COMMENT        string COMMENT 'Additional comments about the line item',
 LOAD_TIMESTAMP timestamp_ltz NOT NULL,
 LAST_UPDATED   timestamp NOT NULL,

 CONSTRAINT PK_LINEITEM PRIMARY KEY ( ORDERKEY, LINENUMBER ),
 CONSTRAINT FK_LINEITEM_ORDERS FOREIGN KEY ( ORDERKEY ) REFERENCES STAGING.STG_ORDERS ( ORDERKEY ),
 CONSTRAINT FK_LINEITEM_PARTSUPP FOREIGN KEY ( PARTKEY, SUPPKEY ) REFERENCES STAGING.STG_PARTSUPP ( PARTKEY, SUPPKEY )
);
